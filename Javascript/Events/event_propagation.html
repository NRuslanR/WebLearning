<!doctype>
<html>
	<head>
		<meta charset="utf-8">
		<title>Javascript's Event Propagation</title>
	
		<style>
		
			* {	
			
				box-sizing: border-box;
				
			}
			
			#redRect {
			
				background: red;
				border: 1px solid black;
				width: 100px;
				height: 100px;
				top: 0;
				left: 0;
				position: relative;
				
			}
			
			#blueRect {
			
				background: blue;
				border: 1px solid black;
				width: 200px;
				height: 200px;
			}
			
		</style>
	
	</head>
	
	<body>
	
		<div id="blueRect">
			<ul id="redRect"></ul>
		</div>
		
		<script>

			var count = 0;
			
			var clickHandler = (e) => {
				
				if (count++ > 5) {
				
					e.stopPropagation();
					
					return;
					
				}
				
				console.log('Clicked on ' + e.currentTarget.nodeName);
				
			}
			
			var redRect = document.getElementById('redRect');
			
			redRect.addEventListener('click', clickHandler, true);
			
			var blueRect = document.getElementById('blueRect');
			
			blueRect.addEventListener('click', clickHandler, true);
			
			document.body.addEventListener('click', clickHandler, true);
			
		</script>
		
	</body>
	
</html>