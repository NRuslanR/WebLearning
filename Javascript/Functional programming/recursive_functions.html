<!doctype>
<html>
	<head>
		<meta charset="utf-8">
		<title>Javascript's recursive functions</title>
	</head>
	
	<body>
		
		<script>
			
			function getFactorial(n) {
				
				if (n === undefined)
					throw 'n is undefined';
					
				if (n < 0) 
					throw 'n must be non-negative';
					
				var memoizer = [];
				
				function internalGetFactorial(n)
				{
					return 
						n == 0 ? 1 : 
						n <= 2 ? n :
						memoizer[n] !== undefined ? memoizer[n] : memoizer[n] = n * internalGetFactorial(n - 1);
						
				}
				
				return internalGetFactorial(n);
			};
			
			document.write('<h2>Factorial(10) = ' + getFactorial(10));
			document.write('<h2>Factorial(15) = ' + getFactorial(15));
			document.write('<h2>Factorial(19) = ' + getFactorial(19));
			document.write('<h2>Factorial(20) = ' + getFactorial(20));
			document.write('<h2>Factorial(30) = ' + getFactorial(30));
			document.write('<h2>Factorial(55) = ' + getFactorial(55));
			document.write('<h2>Factorial(500) = ' + getFactorial(500));	
			document.write('<h2>Factorial(1000) = ' + getFactorial(1000));	
				
			function getFibonacci(n)
			{
				if (n === undefined)
					throw 'n is an undefined';
					
				if (n < 0)
					throw 'n is a negative number';
					
				var memoizer = [];
				
				function internalGetFibonacci(n)
				{
					return 
						n <= 2 ? 1 :
						memoizer[n] !== undefined ? memoizer[n] :
						memoizer[n] = internalGetFibonacci(n - 1) + internalGetFibonacci(n - 2);
				}
				
				return internalGetFibonacci(n);
			}
			
			document.write('<h2>Fibonacci(10) = ' + getFibonacci(10));
			document.write('<h2>Fibonacci(15) = ' + getFibonacci(15));
			document.write('<h2>Fibonacci(19) = ' + getFibonacci(19));
			document.write('<h2>Fibonacci(20) = ' + getFibonacci(20));
			document.write('<h2>Fibonacci(30) = ' + getFibonacci(30));
			document.write('<h2>Fibonacci(55) = ' + getFibonacci(55));
			document.write('<h2>Fibonacci(500) = ' + getFibonacci(500));	
			document.write('<h2>Fibonacci(1000) = ' + getFibonacci(1000));	
				
		</script>
		
	</body>
	
</html>